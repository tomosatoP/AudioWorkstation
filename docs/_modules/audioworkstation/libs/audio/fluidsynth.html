
<!DOCTYPE html>

<html lang="ja">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>audioworkstation.libs.audio.fluidsynth &#8212; AudioWorkstation 0.3 ドキュメント</title>
    <link rel="stylesheet" type="text/css" href="../../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../../_static/sphinxdoc.css" />
    <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
    <script src="../../../../_static/doctools.js"></script>
    <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/translations.js"></script>
    <link rel="index" title="索引" href="../../../../genindex.html" />
    <link rel="search" title="検索" href="../../../../search.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="総合索引"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">AudioWorkstation 0.3 ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" accesskey="U">モジュールコード</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">audioworkstation.libs.audio.fluidsynth</a></li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <h1>audioworkstation.libs.audio.fluidsynth のソースコード</h1><div class="highlight"><pre>
<span></span><span class="ch">#!/usr/bin/env python3</span>
<span class="c1"># -*- coding: utf-8 -*-</span>
<span class="sd">&quot;&quot;&quot;Piano playing practice with MIDI keyboard.</span>

<span class="sd">Use this module from Kivy as a separate thread.</span>

<span class="sd">Module &#39;concurrent.futures.ThreadPoolExecutor&#39; is recommended.</span>

<span class="sd">:referrence: https://www.fluidsynth.org/api/</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="kn">from</span> <span class="nn">typing</span> <span class="kn">import</span> <span class="n">Union</span><span class="p">,</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">Any</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">IntEnum</span><span class="p">,</span> <span class="n">IntFlag</span><span class="p">,</span> <span class="n">auto</span>
<span class="kn">from</span> <span class="nn">json</span> <span class="kn">import</span> <span class="n">load</span>
<span class="kn">from</span> <span class="nn">time</span> <span class="kn">import</span> <span class="n">sleep</span>
<span class="kn">from</span> <span class="nn">ctypes.util</span> <span class="kn">import</span> <span class="n">find_library</span>
<span class="kn">import</span> <span class="nn">logging</span> <span class="k">as</span> <span class="nn">LFS</span>
<span class="kn">import</span> <span class="nn">ctypes</span> <span class="k">as</span> <span class="nn">CFS</span>
<span class="kn">from</span> <span class="nn">pathlib</span> <span class="kn">import</span> <span class="n">Path</span>

<span class="c1"># Logger</span>
<span class="n">logger</span> <span class="o">=</span> <span class="n">LFS</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="vm">__name__</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">LFS</span><span class="o">.</span><span class="n">DEBUG</span><span class="p">)</span>
<span class="n">_logger_formatter</span> <span class="o">=</span> <span class="n">LFS</span><span class="o">.</span><span class="n">Formatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%(asctime)s</span><span class="s2"> </span><span class="si">%(levelname)s</span><span class="s2"> </span><span class="si">%(message)s</span><span class="s2">&quot;</span><span class="p">)</span>
<span class="c1"># Logger FileHandler</span>
<span class="n">_logger_fh</span> <span class="o">=</span> <span class="n">LFS</span><span class="o">.</span><span class="n">FileHandler</span><span class="p">(</span><span class="s2">&quot;logs/fluidsynth.log&quot;</span><span class="p">)</span>
<span class="n">_logger_fh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">_logger_formatter</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">_logger_fh</span><span class="p">)</span>
<span class="c1"># Logger StreamHandler</span>
<span class="n">_logger_sh</span> <span class="o">=</span> <span class="n">LFS</span><span class="o">.</span><span class="n">StreamHandler</span><span class="p">()</span>
<span class="n">_logger_sh</span><span class="o">.</span><span class="n">setFormatter</span><span class="p">(</span><span class="n">_logger_formatter</span><span class="p">)</span>
<span class="n">logger</span><span class="o">.</span><span class="n">addHandler</span><span class="p">(</span><span class="n">_logger_sh</span><span class="p">)</span>

<span class="c1"># fluidsynth</span>
<span class="n">FLUID_FAILED</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
<span class="n">FLUID_OK</span> <span class="o">=</span> <span class="mi">0</span>

<span class="c1"># Handle exception</span>


<div class="viewcode-block" id="FSError"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.FSError">[ドキュメント]</a><span class="k">class</span> <span class="nc">FSError</span><span class="p">(</span><span class="ne">Exception</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Exceptions sent out from errcheck func.&quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="n">args</span><span class="p">:</span> <span class="nb">object</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;FSError: </span><span class="si">{</span><span class="n">args</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span></div>


<span class="k">def</span> <span class="nf">_errcheck</span><span class="p">(</span><span class="n">result</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">cfunc</span><span class="p">:</span> <span class="n">Callable</span><span class="p">,</span> <span class="n">args</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
    <span class="k">if</span> <span class="n">result</span> <span class="o">==</span> <span class="n">FLUID_FAILED</span><span class="p">:</span>
        <span class="k">raise</span> <span class="n">FSError</span><span class="p">((</span><span class="n">cfunc</span><span class="p">,</span> <span class="n">args</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">result</span>


<span class="sd">&quot;&quot;&quot;libfluidsynth&quot;&quot;&quot;</span>
<span class="n">_libfs</span> <span class="o">=</span> <span class="n">CFS</span><span class="o">.</span><span class="n">CDLL</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="n">find_library</span><span class="p">(</span><span class="n">name</span><span class="o">=</span><span class="s2">&quot;fluidsynth&quot;</span><span class="p">),</span> <span class="n">use_errno</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>


<span class="k">def</span> <span class="nf">_prototype</span><span class="p">(</span><span class="n">restype</span><span class="p">:</span> <span class="n">Any</span><span class="p">,</span> <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span> <span class="o">*</span><span class="n">params</span><span class="p">:</span> <span class="nb">tuple</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">Any</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Returns a foreign function exported by a shared library.</span>

<span class="sd">    :param Any restype: foreign function restype</span>
<span class="sd">    :param str name: foreign function name</span>
<span class="sd">    :param tuple params: type, flag, name[, default]</span>

<span class="sd">    :return: foreign function object</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="n">_libfs</span><span class="p">,</span> <span class="n">name</span><span class="p">):</span>
        <span class="n">argtypes</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">([])</span>
        <span class="n">paramflags</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">([])</span>
        <span class="k">for</span> <span class="n">param</span> <span class="ow">in</span> <span class="n">params</span><span class="p">:</span>
            <span class="n">argtypes</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="n">paramflags</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">param</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
        <span class="n">func_spec</span> <span class="o">=</span> <span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">_libfs</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">CFS</span><span class="o">.</span><span class="n">CFUNCTYPE</span><span class="p">(</span><span class="n">restype</span><span class="p">,</span> <span class="o">*</span><span class="n">argtypes</span><span class="p">,</span> <span class="n">use_errno</span><span class="o">=</span><span class="kc">True</span><span class="p">)(</span>
            <span class="n">func_spec</span><span class="p">,</span> <span class="nb">tuple</span><span class="p">(</span><span class="n">paramflags</span><span class="p">)</span>
        <span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>


<span class="c1"># Audio output</span>
<span class="c1"># Audio output - Audio driver</span>
<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_audio_driver</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;new_fluid_audio_driver&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">new_fluid_audio_driver</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_audio_driver</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_audio_driver&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;driver&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_audio_driver_register</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_audio_driver_register&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;adrivers&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_audio_driver_register</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># Audio output - File Renderer</span>

<span class="c1"># Command Interface</span>
<span class="c1"># Command Interface - Command Handler</span>
<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_cmd_handler</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;new_fluid_cmd_handler&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;router&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">new_fluid_cmd_handler</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_cmd_handler</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_cmd_handler&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;handler&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Command Interface - Command Server</span>
<span class="c1"># Command Interface - Command Shell</span>

<span class="c1"># Logging</span>
<span class="c1"># [ENUM]</span>


<div class="viewcode-block" id="FLUID_LOG_LEVEL"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.FLUID_LOG_LEVEL">[ドキュメント]</a><span class="k">class</span> <span class="nc">FLUID_LOG_LEVEL</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
    <span class="n">PANIC</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">ERR</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">WARN</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">INFO</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">DBG</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">LAST_LOG_LEVEL</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span></div>


<span class="c1"># [user defined data type]</span>


<div class="viewcode-block" id="LogUserData"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.LogUserData">[ドキュメント]</a><span class="k">class</span> <span class="nc">LogUserData</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Structure of data for Log function handler&quot;&quot;&quot;</span>

    <span class="k">pass</span></div>


<span class="c1"># [Typedef]</span>
<span class="n">FLUID_LOG_FUNCTION_T</span> <span class="o">=</span> <span class="n">CFS</span><span class="o">.</span><span class="n">CFUNCTYPE</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">LogUserData</span><span class="p">)</span>
<span class="p">)</span>
<span class="sd">&quot;&quot;&quot;Log function handler callback type used by fluid_set_log_function()</span>

<span class="sd">:param c_int level:</span>
<span class="sd">:param c_char_p message:</span>
<span class="sd">:param POINTER(LogUserData) data:</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># [API prototype]</span>
<span class="n">fluid_default_log_function</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_default_log_function&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;level&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">LogUserData</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_log</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_log&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;level&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;fmt&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;message&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_set_log_function</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">FLUID_LOG_FUNCTION_T</span><span class="p">,</span>
    <span class="s2">&quot;fluid_set_log_function&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;level&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">FLUID_LOG_FUNCTION_T</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;fun&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">LogUserData</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_set_log_function</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># [user function]</span>


<span class="nd">@FLUID_LOG_FUNCTION_T</span>
<span class="k">def</span> <span class="nf">_log_func</span><span class="p">(</span><span class="n">level</span><span class="p">,</span> <span class="n">message</span><span class="p">,</span> <span class="n">data</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
    <span class="n">mes</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">message</span><span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="o">==</span> <span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">PANIC</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">critical</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="o">==</span> <span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">error</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="o">==</span> <span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">WARN</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">warning</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="o">==</span> <span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">INFO</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">info</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="nb">int</span><span class="p">(</span><span class="n">level</span><span class="p">)</span> <span class="o">==</span> <span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">DBG</span><span class="p">:</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">debug</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">mes</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>


<span class="c1"># MIDI Input</span>
<span class="c1"># [typedef] handle_midi_event_func_t</span>
<span class="n">HANDLE_MIDI_EVENT_FUNC_T</span> <span class="o">=</span> <span class="n">CFS</span><span class="o">.</span><span class="n">CFUNCTYPE</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;Generic callback function prototype for MIDI event handler.</span>

<span class="sd">:param c_void_p data:</span>
<span class="sd">:param c_void_p event:</span>

<span class="sd">:return:</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># [API prototype]</span>
<span class="n">fluid_synth_handle_midi_event</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_handle_midi_event&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;event&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_handle_midi_event</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># MIDI Input - MIDI Driver</span>
<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_midi_driver</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;new_fluid_midi_driver&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;handler&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;event_handler_data&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">new_fluid_midi_driver</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_midi_driver</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_midi_driver&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;driver&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># MIDI Input - MIDI Event</span>
<span class="c1"># MIDI Input - MIDI File Player</span>
<span class="c1"># [ENUM]</span>


<div class="viewcode-block" id="FLUID_PLAYER_SET_TEMPO_TYEP"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.FLUID_PLAYER_SET_TEMPO_TYEP">[ドキュメント]</a><span class="k">class</span> <span class="nc">FLUID_PLAYER_SET_TEMPO_TYEP</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>  <span class="c1"># Available from version 2.2.0</span>
    <span class="n">INTERNAL</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">EXTERNAL_BPM</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">EXTERNAL_MIDI</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span></div>


<div class="viewcode-block" id="FLUID_PLAYER_STATUS"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.FLUID_PLAYER_STATUS">[ドキュメント]</a><span class="k">class</span> <span class="nc">FLUID_PLAYER_STATUS</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
    <span class="n">READY</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">PLAYING</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="c1"># STOPPING = auto()  # Available from version 2.2.0</span>
    <span class="n">DONE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span></div>


<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_player</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="s2">&quot;new_fluid_player&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">new_fluid_player</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_player</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_player&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_player_set_playback_callback</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_player_set_playback_callback&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;handler&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;handler_data&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_player_set_playback_callback</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_add</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_player_add&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;midifile&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_player_add</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_add_mem</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_player_add_mem&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;buffer&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;len&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_player_add_mem</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_play</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_player_play&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_player_play</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_get_status</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_player_get_status&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_player_get_status</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_stop</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_player_stop&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_player_stop</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_join</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_player_join&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_player_join</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_get_total_ticks</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_player_get_total_ticks&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_player_get_total_ticks</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_get_current_tick</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_player_get_current_tick&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_player_get_current_tick</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_seek</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_player_seek&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;ticks&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_player_seek</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_player_set_loop</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_player_set_loop&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;player&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;loop&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_player_set_loop</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>


<span class="c1"># MIDI Input - MIDI Router</span>
<span class="c1"># [ENUM]</span>


<div class="viewcode-block" id="FLUID_MIDI_ROUTER_RULE_TYPE"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.FLUID_MIDI_ROUTER_RULE_TYPE">[ドキュメント]</a><span class="k">class</span> <span class="nc">FLUID_MIDI_ROUTER_RULE_TYPE</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
    <span class="n">NOTE</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">CC</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">PROG_CHANGER</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">PITCH_BEND</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">CHANNEL_PRESSURE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">KEY_PRESSURE</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">COUNT</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span></div>


<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_midi_router</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;new_fluid_midi_router&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;handler&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;event_handler_data&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">new_fluid_midi_router</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_midi_router</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_midi_router&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;router&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_midi_dump_postrouter</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_midi_dump_postrouter&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;event&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_midi_dump_postrouter</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_midi_dump_prerouter</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_midi_dump_prerouter&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;event&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_midi_dump_prerouter</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_midi_router_handle_midi_event</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_midi_router_handle_midi_event&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;event&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_midi_router_handle_midi_event</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_midi_router_clear_rules</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_midi_router_clear_rules&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;router&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_midi_router_clear_rules</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_midi_router_set_default_rules</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_midi_router_set_default_rules&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;router&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_midi_router_set_default_rules</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">new_fluid_midi_router_rule</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="s2">&quot;new_fluid_midi_router_rule&quot;</span><span class="p">)</span>
<span class="n">new_fluid_midi_router_rule</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_midi_router_rule</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_midi_router_rule&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;rule&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_midi_router_rule_set_chan</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_midi_router_rule_set_chan&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;rule&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_float</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;mul&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_midi_router_rule_set_param1</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_midi_router_rule_set_param1&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;rule&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_float</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;mul&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_midi_router_rule_set_param2</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_midi_router_rule_set_param2&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;rule&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_float</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;mul&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;add&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_midi_router_add_rule</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_midi_router_add_rule&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;router&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;rule&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;type&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_midi_router_add_rule</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># MIDI sequencer</span>
<span class="c1"># [user defined data type]</span>


<div class="viewcode-block" id="EventUserData"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.EventUserData">[ドキュメント]</a><span class="k">class</span> <span class="nc">EventUserData</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">Structure</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Structure of data for Sequencer event callback function&quot;&quot;&quot;</span>

    <span class="k">pass</span></div>


<span class="c1"># [typedef]</span>
<span class="n">FLUID_EVENT_CALLBACK_T</span> <span class="o">=</span> <span class="n">CFS</span><span class="o">.</span><span class="n">CFUNCTYPE</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">EventUserData</span><span class="p">)</span>
<span class="p">)</span>
<span class="sd">&quot;&quot;&quot;Event callback function prototype for destination clients.</span>

<span class="sd">:param c_uint time: Current sequencer tick value</span>
<span class="sd">:param c_void_p event: The event being received</span>
<span class="sd">:param c_void_p seq: The sequencer instance</span>
<span class="sd">:param POINTER(EventUserData) data: User defined data registered with the client</span>
<span class="sd">&quot;&quot;&quot;</span>
<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_sequencer2</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="s2">&quot;new_fluid_sequencer2&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;use_system_timer&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">new_fluid_sequencer2</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_sequencer</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_sequencer&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_sequencer_register_fluidsynth</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">,</span>
    <span class="s2">&quot;fluid_sequencer_register_fluidsynth&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_sequencer_register_fluidsynth</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_sequencer_register_client</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">,</span>
    <span class="s2">&quot;fluid_sequencer_register_client&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">FLUID_EVENT_CALLBACK_T</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;callback&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">EventUserData</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_sequencer_register_client</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_sequencer_unregister_client</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_sequencer_unregister_client&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_sequencer_get_client_name</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span>
    <span class="s2">&quot;fluid_sequencer_get_client_name&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_sequencer_get_client_name</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_sequencer_get_tick</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">,</span> <span class="s2">&quot;fluid_sequencer_get_tick&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_sequencer_get_tick</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_sequencer_set_time_scale</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_sequencer_set_time_scale&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;scale&quot;</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="mi">1000</span><span class="p">)),</span>
<span class="p">)</span>

<span class="n">fluid_sequencer_get_time_scale</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span> <span class="s2">&quot;fluid_sequencer_get_time_scale&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_sequencer_get_time_scale</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_sequencer_send_at</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_sequencer_send_at&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;seq&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;evt&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;time&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;absolute&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_sequencer_send_at</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># MIDI Sequencer - Sequencer Events</span>
<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_event</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="s2">&quot;new_fluid_event&quot;</span><span class="p">)</span>
<span class="n">new_fluid_event</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_event</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_event&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;evt&quot;</span><span class="p">))</span>

<span class="n">fluid_event_set_dest</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;fluid_event_set_dest&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;evt&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;dest&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_event_set_source</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;fluid_event_set_source&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;evt&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;src&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_event_note</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_event_note&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;evt&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;channel&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;vel&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;duration&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_event_timer</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;fluid_event_timer&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;evt&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Miscellaneous</span>
<span class="c1"># [API prototype]</span>
<span class="n">fluid_free</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;fluid_free&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;ptr&quot;</span><span class="p">))</span>

<span class="n">fluid_is_midifile</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_is_midifile&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;filename&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_is_midifile</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_is_soundfont</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_is_soundfont&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;filename&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_is_soundfont</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_version_str</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="s2">&quot;fluid_version_str&quot;</span><span class="p">)</span>
<span class="n">fluid_version_str</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># Settings</span>
<span class="c1"># [ENUM]</span>


<div class="viewcode-block" id="FLUID_TYPE"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.FLUID_TYPE">[ドキュメント]</a><span class="k">class</span> <span class="nc">FLUID_TYPE</span><span class="p">(</span><span class="n">IntEnum</span><span class="p">):</span>
    <span class="n">NO</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
    <span class="n">NUM</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">INT</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">STR</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span>
    <span class="n">SET</span> <span class="o">=</span> <span class="n">auto</span><span class="p">()</span></div>


<div class="viewcode-block" id="FLUID_HINT"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.FLUID_HINT">[ドキュメント]</a><span class="k">class</span> <span class="nc">FLUID_HINT</span><span class="p">(</span><span class="n">IntFlag</span><span class="p">):</span>
    <span class="n">BOUNDED_BELOW</span> <span class="o">=</span> <span class="mh">0x1</span>
    <span class="n">BOUNDED_ABOVE</span> <span class="o">=</span> <span class="mh">0x2</span>
    <span class="n">TOGGLED</span> <span class="o">=</span> <span class="mh">0x4</span>
    <span class="n">RANGE</span> <span class="o">=</span> <span class="n">BOUNDED_BELOW</span> <span class="o">|</span> <span class="n">BOUNDED_ABOVE</span>
    <span class="n">ON_OFF</span> <span class="o">=</span> <span class="n">RANGE</span> <span class="o">|</span> <span class="n">TOGGLED</span></div>


<span class="n">FLUID_HINT_OPTIONLIST</span> <span class="o">=</span> <span class="mh">0x02</span>
<span class="c1"># [typedef]</span>
<span class="n">FLUID_SETTINGS_FOREACH_OPTION_T</span> <span class="o">=</span> <span class="n">CFS</span><span class="o">.</span><span class="n">CFUNCTYPE</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span>
<span class="p">)</span>
<span class="sd">&quot;&quot;&quot;Callback function type used with fluid_settings_foreach_option()</span>

<span class="sd">:param c_void_p data:</span>
<span class="sd">:param c_char_p name:</span>
<span class="sd">:param c_char_p option:</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="n">FLUID_SETTINGS_FOREACH_T</span> <span class="o">=</span> <span class="n">CFS</span><span class="o">.</span><span class="n">CFUNCTYPE</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">)</span>
<span class="sd">&quot;&quot;&quot;Callback function type used with fluid_settings_foreach()</span>

<span class="sd">:param c_void_p data:</span>
<span class="sd">:param c_char_p name:</span>
<span class="sd">:param c_int type:</span>
<span class="sd">&quot;&quot;&quot;</span>

<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_settings</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="s2">&quot;new_fluid_settings&quot;</span><span class="p">)</span>
<span class="n">new_fluid_settings</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_settings</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_settings&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="n">fluid_settings_setnum</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_setnum&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;value&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_setnum</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_getnum</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_getnum&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_getnum</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_getnum_default</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_getnum_default&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_getnum_default</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_getnum_range</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_getnum_range&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_getnum_range</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_setint</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_setint&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_setint</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_getint</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_getint&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_getint</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_getint_default</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_getint_default&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_getint_default</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_getint_range</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_getint_range&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;min&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;max&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_getint_range</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_setstr</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_setstr&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;str&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_setstr</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_getstr_default</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_getstr_default&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;str&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_getstr_default</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_copystr</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_copystr&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;str&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;len&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_copystr</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_settings_foreach</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_foreach&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">FLUID_SETTINGS_FOREACH_T</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;func&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_settings_foreach_option</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_foreach_option&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">FLUID_SETTINGS_FOREACH_OPTION_T</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;func&quot;</span><span class="p">),</span>
<span class="p">)</span>

<span class="n">fluid_settings_get_hints</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_settings_get_hints&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;name&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;hints&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_settings_get_hints</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>


<span class="c1"># SoundFonts</span>
<span class="c1"># SoundFonts - SoundFont Generators</span>
<span class="c1"># SoundFonts - SoundFont Loader</span>
<span class="c1"># [API prototype]</span>
<span class="n">fluid_synth_get_channel_preset</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_get_channel_preset&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_get_channel_preset</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_sfont_get_preset</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;fluid_sfont_get_preset&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;sfont&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bank&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;prenum&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_sfont_get_preset</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_preset_get_banknum</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_preset_get_banknum&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;preset&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_preset_get_banknum</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_preset_get_name</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="s2">&quot;fluid_preset_get_name&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;preset&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_preset_get_name</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_preset_get_num</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_preset_get_num&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;preset&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_preset_get_num</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_preset_get_sfont</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="s2">&quot;fluid_preset_get_sfont&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;preset&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_preset_get_sfont</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_sfont_get_id</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_sfont_get_id&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;sfont&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_sfont_get_id</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># SoundFonts - SoundFont Modulators</span>
<span class="c1"># SoundFonts - SoundFont Maniplation</span>

<span class="c1"># Synthesizer</span>
<span class="c1"># [API prototype]</span>
<span class="n">new_fluid_synth</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="s2">&quot;new_fluid_synth&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;settings&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">new_fluid_synth</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">delete_fluid_synth</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;delete_fluid_synth&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">))</span>

<span class="c1"># Synthesizer - Audio Rendering</span>
<span class="c1"># Synthesizer - Effect - Chorus</span>
<span class="c1"># Synthesizer - Effect - IIR Filter</span>
<span class="c1"># Synthesizer - Effect - LADSPA</span>
<span class="c1"># Synthesizer - Effect - Reverb</span>

<span class="c1"># Synthesizer - MIDI Channel Messages</span>
<span class="c1"># [API prototype]</span>
<span class="n">fluid_synth_all_notes_off</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_all_notes_off&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_all_notes_off</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_all_sounds_off</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_all_sounds_off&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_all_sounds_off</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_cc</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_cc&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_cc</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_get_cc</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_get_cc&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;pval&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_get_cc</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_pitch_bend</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_pitch_bend&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_pitch_bend</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_get_pitch_bend</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_get_pitch_bend&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;ppitch_bend&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_get_pitch_bend</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_pitch_wheel_sens</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_pitch_wheel_sens&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;val&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_pitch_wheel_sens</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_get_pitch_wheel_sens</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_get_pitch_wheel_sens&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">3</span><span class="p">,</span> <span class="s2">&quot;pval&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_get_pitch_wheel_sens</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_sysex</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_sysex&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;data&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;len&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;response&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;response_len&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">POINTER</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">),</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;handled&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;dryrun&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_sysex</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_program_select</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_program_select&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;sfont_id&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;bank_num&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;preset_num&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_program_select</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_noteon</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_noteon&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;vel&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_noteon</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_noteoff</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_noteoff&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;chan&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;key&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_noteoff</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_system_reset</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_synth_system_reset&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_synth_system_reset</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># Synthesizer - MIDI Channel Setup</span>
<span class="c1"># Synthesizer - MIDI Tuning</span>

<span class="c1"># Synthesizer - SoundFont managiment</span>
<span class="c1"># [API prototype]</span>
<span class="n">fluid_synth_add_sfont</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_add_sfont&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;sfont&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_add_sfont</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_sfload</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_sfload&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;filename&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;reset_preset&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_sfload</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_sfreload</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_synth_sfreload&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_synth_sfreload</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_sfcount</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="s2">&quot;fluid_synth_sfcount&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_synth_sfcount</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_get_sfont</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_get_sfont&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;num&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_get_sfont</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_get_sfont_by_id</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span>
    <span class="s2">&quot;fluid_synth_get_sfont_by_id&quot;</span><span class="p">,</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span>
    <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;id&quot;</span><span class="p">),</span>
<span class="p">)</span>
<span class="n">fluid_synth_get_sfont_by_id</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="c1"># Synthesizer - Synthesis Parameters</span>
<span class="c1"># [API prototype]</span>
<span class="n">fluid_synth_get_gain</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="n">CFS</span><span class="o">.</span><span class="n">c_float</span><span class="p">,</span> <span class="s2">&quot;fluid_synth_get_gain&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">fluid_synth_get_gain</span><span class="o">.</span><span class="n">errcheck</span> <span class="o">=</span> <span class="n">_errcheck</span>

<span class="n">fluid_synth_set_gain</span> <span class="o">=</span> <span class="n">_prototype</span><span class="p">(</span>
    <span class="kc">None</span><span class="p">,</span> <span class="s2">&quot;fluid_synth_set_gain&quot;</span><span class="p">,</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;synth&quot;</span><span class="p">),</span> <span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_float</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;gain&quot;</span><span class="p">)</span>
<span class="p">)</span>

<span class="c1"># Synthesizer - Voice Control</span>

<span class="c1"># [typing alias]</span>
<span class="n">PRESET</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">int</span><span class="p">,</span> <span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span>


<div class="viewcode-block" id="Synthesizer"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer">[ドキュメント]</a><span class="k">class</span> <span class="nc">Synthesizer</span><span class="p">:</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;SoundFont synthesizer.</span>

<span class="sd">    :param dict kwargs: kwargs = {</span>
<span class="sd">            &#39;settings&#39;:&#39;config/settings.json&#39;,</span>
<span class="sd">            &#39;soundfont&#39;:[&#39;sf2/FluidR3_GM.sf2&#39;, &#39;sf2/SGM-V2.01.sf2&#39;]}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">LAST_LOG_LEVEL</span><span class="p">):</span>
                <span class="n">fluid_set_log_function</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">i</span><span class="p">,</span> <span class="n">fun</span><span class="o">=</span><span class="n">_log_func</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">new_fluid_settings</span><span class="p">())</span>
            <span class="k">if</span> <span class="s2">&quot;settings&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_customaize_settings</span><span class="p">(</span><span class="n">json_filename</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;settings&quot;</span><span class="p">]))</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">new_fluid_synth</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">))</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_soundfonts</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>  <span class="c1"># filename, sfont id</span>
            <span class="k">if</span> <span class="s2">&quot;soundfont&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">s_name</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;soundfont&quot;</span><span class="p">]:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_soundfonts</span><span class="p">[</span><span class="n">s_name</span><span class="p">]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                        <span class="n">fluid_synth_sfload</span><span class="p">(</span>
                            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
                            <span class="n">filename</span><span class="o">=</span><span class="n">s_name</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
                            <span class="n">reset_preset</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

            <span class="k">else</span><span class="p">:</span>
                <span class="n">c_name</span> <span class="o">=</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_char_p</span><span class="p">()</span>
                <span class="n">fluid_settings_getstr_default</span><span class="p">(</span>
                    <span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">),</span>
                    <span class="n">name</span><span class="o">=</span><span class="sa">b</span><span class="s2">&quot;synth.default-soundfont&quot;</span><span class="p">,</span>
                    <span class="nb">str</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">c_name</span><span class="p">),</span>
                <span class="p">)</span>
                <span class="k">if</span> <span class="n">c_name</span><span class="o">.</span><span class="n">value</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">_soundfonts</span><span class="p">[</span><span class="n">c_name</span><span class="o">.</span><span class="n">value</span><span class="o">.</span><span class="n">decode</span><span class="p">()]</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                        <span class="n">fluid_synth_sfload</span><span class="p">(</span>
                            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
                            <span class="n">filename</span><span class="o">=</span><span class="n">c_name</span><span class="o">.</span><span class="n">value</span><span class="p">,</span>
                            <span class="n">reset_preset</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="kc">True</span><span class="p">),</span>
                        <span class="p">)</span>
                    <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_gm_system_on</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;gm system on&quot;</span><span class="p">)</span>

            <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="n">Synthesizer</span><span class="p">:</span>
                <span class="bp">self</span><span class="o">.</span><span class="n">_assign_audio_driver</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">FSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span>
                <span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Synthesizer failed. </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span>
                <span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span>
                <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;libfluidsynth version: </span><span class="si">{</span><span class="bp">self</span><span class="o">.</span><span class="n">version</span><span class="p">()</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">,</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">==</span> <span class="n">Synthesizer</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_delete_auido_driver</span><span class="p">()</span>
        <span class="n">delete_fluid_synth</span><span class="p">(</span><span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">))</span>
        <span class="n">delete_fluid_settings</span><span class="p">(</span><span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">INFO</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="s2">&quot;good-bye&quot;</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_log</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">level</span><span class="p">:</span> <span class="n">FLUID_LOG_LEVEL</span><span class="p">,</span> <span class="n">message</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">fluid_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">level</span><span class="p">),</span> <span class="n">fmt</span><span class="o">=</span><span class="sa">b</span><span class="s2">&quot;</span><span class="si">%s</span><span class="s2">&quot;</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="n">message</span><span class="o">.</span><span class="n">encode</span><span class="p">())</span>

    <span class="k">def</span> <span class="nf">_customaize_settings</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">json_filename</span><span class="p">:</span> <span class="nb">str</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">file</span><span class="o">=</span><span class="n">json_filename</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
            <span class="n">settings_json</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">dicts</span> <span class="ow">in</span> <span class="n">settings_json</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
            <span class="k">if</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">],</span> <span class="nb">float</span><span class="p">)</span>
                <span class="ow">and</span> <span class="n">FLUID_TYPE</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="n">FLUID_TYPE</span><span class="o">.</span><span class="n">NUM</span>
            <span class="p">):</span>
                <span class="n">fluid_settings_setnum</span><span class="p">(</span>
                    <span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">),</span>
                    <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
                    <span class="n">value</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">],</span> <span class="nb">int</span><span class="p">)</span>
                <span class="ow">and</span> <span class="n">FLUID_TYPE</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="n">FLUID_TYPE</span><span class="o">.</span><span class="n">INT</span>
            <span class="p">):</span>
                <span class="n">fluid_settings_setint</span><span class="p">(</span>
                    <span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">),</span>
                    <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
                    <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">]),</span>
                <span class="p">)</span>
            <span class="k">elif</span> <span class="p">(</span>
                <span class="nb">isinstance</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">],</span> <span class="nb">str</span><span class="p">)</span>
                <span class="ow">and</span> <span class="n">FLUID_TYPE</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span> <span class="o">==</span> <span class="n">FLUID_TYPE</span><span class="o">.</span><span class="n">STR</span>
            <span class="p">):</span>
                <span class="n">fluid_settings_setstr</span><span class="p">(</span>
                    <span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">),</span>
                    <span class="n">name</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">name</span><span class="p">)</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
                    <span class="nb">str</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">dicts</span><span class="p">[</span><span class="s2">&quot;value&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
                <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_assign_audio_driver</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_audio_driver</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
            <span class="n">new_fluid_audio_driver</span><span class="p">(</span>
                <span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">),</span> <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_audio_driver</span>

    <span class="k">def</span> <span class="nf">_delete_auido_driver</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">if</span> <span class="nb">hasattr</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;_audio_driver&quot;</span><span class="p">):</span>
            <span class="n">delete_fluid_audio_driver</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_audio_driver</span><span class="p">))</span>

<div class="viewcode-block" id="Synthesizer.version"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.version">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">version</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;version _summary_</span>

<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">bytes</span><span class="p">(</span><span class="n">fluid_version_str</span><span class="p">())</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span></div>

    <span class="k">def</span> <span class="nf">_gm_system_on</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span>
            <span class="n">fluid_synth_sysex</span><span class="p">(</span>
                <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
                <span class="n">data</span><span class="o">=</span><span class="p">(</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_char</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)(</span>
                    <span class="n">CFS</span><span class="o">.</span><span class="n">c_char</span><span class="p">(</span><span class="mh">0x7E</span><span class="p">),</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_char</span><span class="p">(</span><span class="mh">0x09</span><span class="p">),</span> <span class="n">CFS</span><span class="o">.</span><span class="n">c_char</span><span class="p">(</span><span class="mh">0x01</span><span class="p">)</span>
                <span class="p">),</span>
                <span class="nb">len</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span>
                <span class="n">response</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">response_len</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">handled</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
                <span class="n">dryrun</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="kc">False</span><span class="p">),</span>
            <span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_all_notes_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fluid_synth_all_notes_off</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span> <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_all_sounds_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fluid_synth_all_sounds_off</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span> <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
        <span class="p">)</span>

    <span class="k">def</span> <span class="nf">_panic</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">fluid_synth_system_reset</span><span class="p">(</span><span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">gain</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;float: gain - defalt 0.2, Min 0.0, Max 10.0&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">fluid_synth_get_gain</span><span class="p">(</span><span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">)))</span>

    <span class="nd">@gain</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">gain</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
        <span class="n">fluid_synth_set_gain</span><span class="p">(</span><span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span> <span class="n">gain</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_float</span><span class="p">(</span><span class="n">value</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">fluid_synth_get_gain</span><span class="p">(</span><span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">soundfonts</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;list(str): sonundfont file names&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_soundfonts</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>  <span class="c1"># filename</span>

<div class="viewcode-block" id="Synthesizer.gm_sound_set"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.gm_sound_set">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">gm_sound_set</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">tuple</span><span class="p">:</span>  <span class="c1"># list[list[PRESET]]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get list of Sound Set (GM system level 1) from soundfont.</span>

<span class="sd">        :return: gm sound set - list[list[PRESET]]</span>
<span class="sd">        :return: gm percussion sound set - list[list[PRESET]]</span>

<span class="sd">        - soundfont</span>
<span class="sd">            - bank</span>
<span class="sd">                - PRESET(dict)</span>
<span class="sd">                    - &quot;name&quot;: str | None</span>
<span class="sd">                    - &quot;num&quot; : int | None</span>
<span class="sd">                    - &quot;bank&quot;: int | None</span>
<span class="sd">                    - &quot;sfont_id&quot;: int | None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">sound_set</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="n">percussion_sound_set</span><span class="p">:</span> <span class="nb">list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>  <span class="c1"># bank = 128: percussion</span>

        <span class="k">for</span> <span class="n">sfont_index</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span>
            <span class="nb">int</span><span class="p">(</span><span class="n">fluid_synth_sfcount</span><span class="p">(</span><span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">)))</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span>
        <span class="p">):</span>
            <span class="n">sfont</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">fluid_synth_get_sfont</span><span class="p">(</span>
                    <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span> <span class="n">num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">(</span><span class="n">sfont_index</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="k">if</span> <span class="n">sound_set</span> <span class="o">==</span> <span class="p">[]:</span>
                <span class="n">sound_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sfont_sound_set</span><span class="p">(</span><span class="n">sfont</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">preset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sfont_sound_set</span><span class="p">(</span><span class="n">sfont</span><span class="p">,</span> <span class="mi">0</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">preset</span><span class="p">[</span><span class="s2">&quot;num&quot;</span><span class="p">],</span> <span class="nb">int</span><span class="p">):</span>
                        <span class="n">sound_set</span><span class="p">[</span><span class="n">preset</span><span class="p">[</span><span class="s2">&quot;num&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">preset</span>

            <span class="k">if</span> <span class="n">percussion_sound_set</span> <span class="o">==</span> <span class="p">[]:</span>
                <span class="n">percussion_sound_set</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sfont_sound_set</span><span class="p">(</span><span class="n">sfont</span><span class="p">,</span> <span class="mi">128</span><span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">preset</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">_sfont_sound_set</span><span class="p">(</span><span class="n">sfont</span><span class="p">,</span> <span class="mi">128</span><span class="p">):</span>
                    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">preset</span><span class="p">[</span><span class="s2">&quot;num&quot;</span><span class="p">],</span> <span class="nb">int</span><span class="p">):</span>
                        <span class="n">percussion_sound_set</span><span class="p">[</span><span class="n">preset</span><span class="p">[</span><span class="s2">&quot;num&quot;</span><span class="p">]]</span> <span class="o">=</span> <span class="n">preset</span>

        <span class="k">return</span> <span class="n">sound_set</span><span class="p">,</span> <span class="n">percussion_sound_set</span></div>

    <span class="k">def</span> <span class="nf">_sfont_sound_set</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">sfont</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">bank</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">PRESET</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;_sfont_sound_set _summary_</span>

<span class="sd">        :param int sfont: soundfont id</span>
<span class="sd">        :param int bank: bank</span>
<span class="sd">        :return: preset list</span>

<span class="sd">        - PRESET(dict)</span>
<span class="sd">            - &quot;name&quot;: str | None</span>
<span class="sd">            - &quot;num&quot; : int | None</span>
<span class="sd">            - &quot;bank&quot;: int | None</span>
<span class="sd">            - &quot;sfont_id&quot;: int | None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PRESET</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">n</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">128</span><span class="p">):</span>
            <span class="n">preset</span> <span class="o">=</span> <span class="n">fluid_sfont_get_preset</span><span class="p">(</span>
                <span class="n">sfont</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">sfont</span><span class="p">),</span> <span class="n">bank</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">bank</span><span class="p">),</span> <span class="n">prenum</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
            <span class="p">)</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_preset</span><span class="p">(</span><span class="n">preset</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">result</span>

<div class="viewcode-block" id="Synthesizer.channels_preset"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.channels_preset">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">channels_preset</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">list</span><span class="p">[</span><span class="n">PRESET</span><span class="p">]:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get a list of presets per channel</span>

<span class="sd">        :return: preset list</span>

<span class="sd">        - PRESET(dict)</span>
<span class="sd">            - &quot;name&quot;: str | None</span>
<span class="sd">            - &quot;num&quot; : int | None</span>
<span class="sd">            - &quot;bank&quot;: int | None</span>
<span class="sd">            - &quot;sfont_id&quot;: int | None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">PRESET</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">chan</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">15</span><span class="p">):</span>
            <span class="n">result</span> <span class="o">+=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">_channel_preset</span><span class="p">(</span><span class="n">chan</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">result</span></div>

    <span class="k">def</span> <span class="nf">_channel_preset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PRESET</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;_channel_preset _summary_</span>

<span class="sd">        :param int chan: channel number</span>
<span class="sd">        :return: preset</span>

<span class="sd">        - PRESET(dict)</span>
<span class="sd">            - &quot;name&quot;: str | None</span>
<span class="sd">            - &quot;num&quot; : int | None</span>
<span class="sd">            - &quot;bank&quot;: int | None</span>
<span class="sd">            - &quot;sfont_id&quot;: int | None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">preset</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
            <span class="n">fluid_synth_get_channel_preset</span><span class="p">(</span>
                <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span> <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="p">)</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_preset</span><span class="p">(</span><span class="n">preset</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_preset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">preset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="n">PRESET</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;_preset _summary_</span>

<span class="sd">        :param int preset: _description_</span>
<span class="sd">        :return: preset</span>

<span class="sd">        - PRESET(dict)</span>
<span class="sd">            - &quot;name&quot;: str | None</span>
<span class="sd">            - &quot;num&quot; : int | None</span>
<span class="sd">            - &quot;bank&quot;: int | None</span>
<span class="sd">            - &quot;sfont_id&quot;: int | None</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">result</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="nb">int</span><span class="p">,</span> <span class="kc">None</span><span class="p">]]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">preset</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="nb">bytes</span><span class="p">(</span>
                <span class="n">fluid_preset_get_name</span><span class="p">(</span><span class="n">preset</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">preset</span><span class="p">))</span>
            <span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;num&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fluid_preset_get_num</span><span class="p">(</span><span class="n">preset</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">preset</span><span class="p">))</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;bank&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fluid_preset_get_banknum</span><span class="p">(</span><span class="n">preset</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">preset</span><span class="p">))</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;sfont_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">fluid_sfont_get_id</span><span class="p">(</span>
                <span class="n">sfont</span><span class="o">=</span><span class="n">fluid_preset_get_sfont</span><span class="p">(</span><span class="n">preset</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">preset</span><span class="p">))</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;num&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;bank&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
            <span class="n">result</span><span class="p">[</span><span class="s2">&quot;sfont_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span>
        <span class="k">return</span> <span class="n">result</span>

<div class="viewcode-block" id="Synthesizer.pitch_bend"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.pitch_bend">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">pitch_bend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;pitch_bend _summary_</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :param int val: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_pitch_bend</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span> <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span> <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.pitch_wheel_sens"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.pitch_wheel_sens">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">pitch_wheel_sens</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;pitch_wheel_sens _summary_</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :param int val: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_pitch_wheel_sens</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span> <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span> <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">val</span><span class="p">)</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.program_select"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.program_select">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">program_select</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">sfont_id</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">bank</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">preset</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;program_select _summary_</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :param int sfont_id: _description_</span>
<span class="sd">        :param int bank: _description_</span>
<span class="sd">        :param int preset: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_program_select</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span>
            <span class="n">sfont_id</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">sfont_id</span><span class="p">),</span>
            <span class="n">bank_num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">bank</span><span class="p">),</span>
            <span class="n">preset_num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">preset</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.note_on"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.note_on">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">note_on</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">keyNumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">velocity</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;note_on _summary_</span>

<span class="sd">        :param int channel: _description_</span>
<span class="sd">        :param int keyNumber: _description_</span>
<span class="sd">        :param int velocity: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_noteon</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">channel</span><span class="p">),</span>
            <span class="n">key</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">keyNumber</span><span class="p">),</span>
            <span class="n">vel</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">velocity</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.note_off"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.note_off">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">note_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">keyNumber</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;note_off _summary_</span>

<span class="sd">        :param int channel: _description_</span>
<span class="sd">        :param int keyNumber: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fluid_synth_noteoff</span><span class="p">(</span>
                <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
                <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">channel</span><span class="p">),</span>
                <span class="n">key</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">keyNumber</span><span class="p">),</span>
            <span class="p">)</span>
            <span class="k">return</span> <span class="n">FLUID_OK</span>
        <span class="k">except</span> <span class="n">FSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;synth noteoff. </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">FLUID_FAILED</span></div>

<div class="viewcode-block" id="Synthesizer.modulation_wheel"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.modulation_wheel">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">modulation_wheel</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The sound amplifies like vibrato.</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :param int val: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_cc</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span>
            <span class="n">num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mh">0x01</span><span class="p">),</span>
            <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.volume"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.volume">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">volume</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Set the maximum allowable value of velocity.</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :param int val: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_cc</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span>
            <span class="n">num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mh">0x07</span><span class="p">),</span>
            <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.sustain_on"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.sustain_on">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">sustain_on</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;The sound echoes for a long time.</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_cc</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span>
            <span class="n">num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mh">0x40</span><span class="p">),</span>
            <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mb">0b00100000</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.sustain_off"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.sustain_off">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">sustain_off</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;sustain_off _summary_</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_cc</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span>
            <span class="n">num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mh">0x40</span><span class="p">),</span>
            <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mb">0b00000000</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.pan"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.pan">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">pan</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;pan _summary_</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :param int val: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_cc</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span>
            <span class="n">num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mh">0x0A</span><span class="p">),</span>
            <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
        <span class="p">)</span></div>

<div class="viewcode-block" id="Synthesizer.expression"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Synthesizer.expression">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">expression</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">chan</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">val</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Temporary velocity can be set above volume.</span>

<span class="sd">        :param int chan: _description_</span>
<span class="sd">        :param int val: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_synth_cc</span><span class="p">(</span>
            <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
            <span class="n">chan</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">chan</span><span class="p">),</span>
            <span class="n">num</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="mh">0x0B</span><span class="p">),</span>
            <span class="n">val</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">val</span><span class="p">),</span>
        <span class="p">)</span></div></div>


<div class="viewcode-block" id="Sequencer"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Sequencer">[ドキュメント]</a><span class="k">class</span> <span class="nc">Sequencer</span><span class="p">(</span><span class="n">Synthesizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Send MIDI events scheduled by the sequencer to the synthesizer.</span>

<span class="sd">    :param dict kwargs: kwargs = {</span>
<span class="sd">            &#39;settings&#39;:&#39;config/settings.json&#39;,</span>
<span class="sd">            &#39;soundfont&#39;:[&#39;sf2/FluidR3_GM.sf2&#39;, &#39;sf2/SGM-V2.01.sf2&#39;]}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">clients</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="nb">int</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">:</span> <span class="nb">int</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_bps</span><span class="p">:</span> <span class="nb">float</span> <span class="o">=</span> <span class="mf">120.0</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_quaternote</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">240</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_callbacks</span><span class="p">:</span> <span class="nb">list</span><span class="p">[</span><span class="n">Callable</span><span class="p">]</span> <span class="o">=</span> <span class="nb">list</span><span class="p">()</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">new_fluid_sequencer2</span><span class="p">(</span><span class="n">use_system_timer</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="kc">False</span><span class="p">))</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">clients</span> <span class="o">+=</span> <span class="p">[</span>
                <span class="nb">int</span><span class="p">(</span>
                    <span class="n">fluid_sequencer_register_fluidsynth</span><span class="p">(</span>
                        <span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">),</span>
                        <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
                    <span class="p">)</span>
                <span class="p">)</span>
            <span class="p">]</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_set_time_scale</span><span class="p">()</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_assign_audio_driver</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">FSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span>
                <span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Sequencer failed. </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_auido_driver</span><span class="p">()</span>
        <span class="k">for</span> <span class="n">client_id</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]:</span>
            <span class="n">fluid_sequencer_unregister_client</span><span class="p">(</span>
                <span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">(</span><span class="n">client_id</span><span class="p">)</span>
            <span class="p">)</span>
        <span class="n">delete_fluid_sequencer</span><span class="p">(</span><span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

<div class="viewcode-block" id="Sequencer.client_name"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Sequencer.client_name">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">client_name</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="nb">id</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">str</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;client_name _summary_</span>

<span class="sd">        :param int id: _description_</span>
<span class="sd">        :return: _description_</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="n">fluid_sequencer_get_client_name</span><span class="p">(</span>
            <span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">),</span> <span class="nb">id</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="nb">id</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">decode</span><span class="p">()</span></div>

<div class="viewcode-block" id="Sequencer.register_client"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Sequencer.register_client">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">register_client</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">name</span><span class="p">:</span> <span class="nb">str</span><span class="p">,</span>
        <span class="n">callback</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">Callable</span><span class="p">[</span><span class="o">...</span><span class="p">,</span> <span class="kc">None</span><span class="p">],</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">EventUserData</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Register a sequencer client.</span>

<span class="sd">        :param str name: Name of sequencer client</span>
<span class="sd">        :param Callable callback: Sequencer client callback or NULL for a source client.</span>
<span class="sd">        :param EventUserData data: User data to pass to the callback</span>

<span class="sd">        :return: Unique sequencer ID or FLUID_FAILED on error</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="n">callback</span><span class="p">:</span>
            <span class="n">callback</span> <span class="o">=</span> <span class="n">FLUID_EVENT_CALLBACK_T</span><span class="p">(</span><span class="n">callback</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_callbacks</span> <span class="o">+=</span> <span class="p">[</span><span class="n">callback</span><span class="p">]</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">clients</span> <span class="o">+=</span> <span class="p">[</span>
            <span class="nb">int</span><span class="p">(</span>
                <span class="n">fluid_sequencer_register_client</span><span class="p">(</span>
                    <span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">),</span>
                    <span class="n">name</span><span class="o">=</span><span class="n">name</span><span class="o">.</span><span class="n">encode</span><span class="p">(),</span>
                    <span class="n">callback</span><span class="o">=</span><span class="n">callback</span> <span class="k">if</span> <span class="n">callback</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                    <span class="n">data</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">byref</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span> <span class="k">else</span> <span class="kc">None</span><span class="p">,</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="p">]</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">clients</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">time_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Ticks per second&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">float</span><span class="p">(</span><span class="n">fluid_sequencer_get_time_scale</span><span class="p">(</span><span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">bps</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Number of quarternotes per second&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bps</span>

    <span class="nd">@bps</span><span class="o">.</span><span class="n">setter</span>
    <span class="k">def</span> <span class="nf">bps</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">:</span> <span class="nb">float</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_bps</span> <span class="o">=</span> <span class="n">value</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_set_time_scale</span><span class="p">()</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tick</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;current tick of the sequencer scaled</span>
<span class="sd">        by the time scale currently set&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">fluid_sequencer_get_tick</span><span class="p">(</span><span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">)))</span>

    <span class="k">def</span> <span class="nf">_set_time_scale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">fluid_sequencer_set_time_scale</span><span class="p">(</span>
            <span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">),</span>
            <span class="n">scale</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_double</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_quaternote</span> <span class="o">/</span> <span class="p">(</span><span class="mi">60</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_bps</span><span class="p">)),</span>
        <span class="p">)</span>

<div class="viewcode-block" id="Sequencer.note_at"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Sequencer.note_at">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">note_at</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ticks</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">channel</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">key_number</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">velocity</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">duration</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">source</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">absolute</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;note_at _summary_</span>

<span class="sd">        :param int ticks: _description_</span>
<span class="sd">        :param int channel: _description_</span>
<span class="sd">        :param int key_number: _description_</span>
<span class="sd">        :param int velocity: _description_</span>
<span class="sd">        :param int duration: _description_</span>
<span class="sd">        :param int source: _description_, defaults to -1</span>
<span class="sd">        :param int destination: _description_, defaults to -1</span>
<span class="sd">        :param bool absolute: _description_, defaults to True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign_event</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span><span class="p">)</span>
        <span class="n">fluid_event_note</span><span class="p">(</span>
            <span class="n">evt</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">event</span><span class="p">),</span>
            <span class="n">channel</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">channel</span><span class="p">),</span>
            <span class="n">key</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">(</span><span class="n">key_number</span><span class="p">),</span>
            <span class="n">vel</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">(</span><span class="n">velocity</span><span class="p">),</span>
            <span class="n">duration</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">(</span><span class="n">duration</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_event_at</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">ticks</span><span class="o">=</span><span class="n">ticks</span><span class="p">,</span> <span class="n">absolute</span><span class="o">=</span><span class="n">absolute</span><span class="p">)</span></div>

<div class="viewcode-block" id="Sequencer.timer_at"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.Sequencer.timer_at">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">timer_at</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">ticks</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span>
        <span class="n">data</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="n">EventUserData</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span>
        <span class="n">source</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">destination</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span>
        <span class="n">absolute</span><span class="p">:</span> <span class="nb">bool</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;timer_at _summary_</span>

<span class="sd">        :param int ticks: _description_</span>
<span class="sd">        :param Union[EventUserData, None] data: _description_, defaults to None</span>
<span class="sd">        :param int source: _description_, defaults to -1</span>
<span class="sd">        :param int destination: _description_, defaults to -1</span>
<span class="sd">        :param bool absolute: _description_, defaults to True</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">event</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_assign_event</span><span class="p">(</span><span class="n">source</span><span class="o">=</span><span class="n">source</span><span class="p">,</span> <span class="n">destination</span><span class="o">=</span><span class="n">destination</span><span class="p">)</span>
        <span class="n">fluid_event_timer</span><span class="p">(</span>
            <span class="n">evt</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">event</span><span class="p">),</span> <span class="n">data</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">pointer</span><span class="p">(</span><span class="n">data</span><span class="p">)</span> <span class="k">if</span> <span class="n">data</span> <span class="k">else</span> <span class="kc">None</span>
        <span class="p">)</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_send_event_at</span><span class="p">(</span><span class="n">event</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">ticks</span><span class="o">=</span><span class="n">ticks</span><span class="p">,</span> <span class="n">absolute</span><span class="o">=</span><span class="n">absolute</span><span class="p">)</span></div>

    <span class="k">def</span> <span class="nf">_assign_event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">source</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">destination</span><span class="p">:</span> <span class="nb">int</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">event</span> <span class="o">=</span> <span class="n">new_fluid_event</span><span class="p">()</span>
        <span class="n">fluid_event_set_source</span><span class="p">(</span><span class="n">evt</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">src</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">(</span><span class="n">source</span><span class="p">))</span>
        <span class="n">fluid_event_set_dest</span><span class="p">(</span><span class="n">evt</span><span class="o">=</span><span class="n">event</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_short</span><span class="p">(</span><span class="n">destination</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">event</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">_send_event_at</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">ticks</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">absolute</span><span class="p">:</span> <span class="nb">bool</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">fluid_sequencer_send_at</span><span class="p">(</span>
            <span class="n">seq</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_sequencer</span><span class="p">),</span>
            <span class="n">evt</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">event</span><span class="p">),</span>
            <span class="n">time</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_uint</span><span class="p">(</span><span class="n">ticks</span><span class="p">),</span>
            <span class="n">absolute</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">absolute</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">delete_fluid_event</span><span class="p">(</span><span class="n">evt</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="n">event</span><span class="p">))</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">result</span><span class="p">)</span></div>


<div class="viewcode-block" id="MidiRouter"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.MidiRouter">[ドキュメント]</a><span class="k">class</span> <span class="nc">MidiRouter</span><span class="p">(</span><span class="n">Synthesizer</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Rule based transformation and filtering of MIDI events.</span>

<span class="sd">    :param dict kwargs: kwargs = {</span>
<span class="sd">            &#39;settings&#39;:&#39;config/settings.json&#39;,</span>
<span class="sd">            &#39;soundfont&#39;:[&#39;sf2/FluidR3_GM.sf2&#39;, &#39;sf2/SGM-V2.01.sf2&#39;]}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">handler</span> <span class="o">=</span> <span class="n">fluid_synth_handle_midi_event</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">new_fluid_midi_router</span><span class="p">(</span>
                    <span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">),</span>
                    <span class="n">handler</span><span class="o">=</span><span class="n">handler</span><span class="p">,</span>
                    <span class="n">event_handler_data</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_cmd_handler</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">new_fluid_cmd_handler</span><span class="p">(</span>
                    <span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">),</span>
                    <span class="n">router</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">except</span> <span class="n">FSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Midi Router.  </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="n">delete_fluid_cmd_handler</span><span class="p">(</span><span class="n">handler</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_cmd_handler</span><span class="p">))</span>
        <span class="n">delete_fluid_midi_router</span><span class="p">(</span><span class="n">router</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

<div class="viewcode-block" id="MidiRouter.apply_rules"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.MidiRouter.apply_rules">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">apply_rules</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">rule_file</span><span class="p">:</span> <span class="n">Union</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="kc">None</span><span class="p">]</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">bool</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Apply rules for MIDI events.</span>

<span class="sd">        :param str rule_file: Rule file to be applied  in json file,</span>
<span class="sd">            or default rules if none</span>

<span class="sd">        :return: True, or False</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="n">fluid_midi_router_clear_rules</span><span class="p">(</span><span class="n">router</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">))</span>

            <span class="k">if</span> <span class="n">rule_file</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
                <span class="n">fluid_midi_router_set_default_rules</span><span class="p">(</span>
                    <span class="n">router</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">)</span>
                <span class="p">)</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">rule_file</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">fp</span><span class="p">:</span>
                    <span class="n">rules_json</span> <span class="o">=</span> <span class="n">load</span><span class="p">(</span><span class="n">fp</span><span class="p">)</span>

                <span class="k">for</span> <span class="n">rd</span> <span class="ow">in</span> <span class="n">rules_json</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
                    <span class="n">rule</span> <span class="o">=</span> <span class="n">new_fluid_midi_router_rule</span><span class="p">()</span>
                    <span class="k">if</span> <span class="n">rd</span><span class="p">[</span><span class="s2">&quot;chan&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">fluid_midi_router_rule_set_chan</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="o">*</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;chan&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                    <span class="k">if</span> <span class="n">rd</span><span class="p">[</span><span class="s2">&quot;param1&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">fluid_midi_router_rule_set_param1</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="o">*</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;param1&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                    <span class="k">if</span> <span class="n">rd</span><span class="p">[</span><span class="s2">&quot;param2&quot;</span><span class="p">]</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
                        <span class="n">fluid_midi_router_rule_set_param2</span><span class="p">(</span><span class="n">rule</span><span class="p">,</span> <span class="o">*</span><span class="n">rd</span><span class="p">[</span><span class="s2">&quot;param2&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
                    <span class="n">fluid_midi_router_add_rule</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">,</span> <span class="n">rule</span><span class="p">,</span> <span class="n">rd</span><span class="p">[</span><span class="s2">&quot;type&quot;</span><span class="p">])</span>
        <span class="k">except</span> <span class="n">FSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Midi Router Rule </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="k">return</span> <span class="kc">False</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">True</span></div></div>


<div class="viewcode-block" id="MidiDriver"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.MidiDriver">[ドキュメント]</a><span class="k">class</span> <span class="nc">MidiDriver</span><span class="p">(</span><span class="n">MidiRouter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Sends MIDI events received at the MIDI input to the synthesizer.</span>

<span class="sd">    :param dict kwargs: kwargs = {</span>
<span class="sd">            &#39;settings&#39;:&#39;config/settings.json&#39;,</span>
<span class="sd">            &#39;soundfont&#39;:[&#39;sf2/FluidR3_GM.sf2&#39;, &#39;sf2/SGM-V2.01.sf2&#39;],</span>
<span class="sd">            &#39;handler&#39;: fluid_midi_dump_prerouter}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="k">if</span> <span class="s2">&quot;handler&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="n">callback</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;handler&quot;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">callback</span> <span class="o">=</span> <span class="n">fluid_midi_router_handle_midi_event</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_midi_driver</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span>
                <span class="n">new_fluid_midi_driver</span><span class="p">(</span>
                    <span class="n">settings</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_settings</span><span class="p">),</span>
                    <span class="n">handler</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span>
                    <span class="n">event_handler_data</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">),</span>
                <span class="p">)</span>
            <span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_assign_audio_driver</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">FSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Midi Driver. </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_auido_driver</span><span class="p">()</span>
        <span class="n">delete_fluid_midi_driver</span><span class="p">(</span><span class="n">driver</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_driver</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span></div>


<div class="viewcode-block" id="MidiPlayer"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.MidiPlayer">[ドキュメント]</a><span class="k">class</span> <span class="nc">MidiPlayer</span><span class="p">(</span><span class="n">MidiRouter</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Parse standard MIDI files and emit MIDI events.</span>

<span class="sd">    :param dict kwargs: kwargs = {</span>
<span class="sd">            &quot;settings&quot;:&quot;config/settings.json&quot;,</span>
<span class="sd">            &quot;soundfont&quot;:[&quot;sf2/FluidR3_GM.sf2&quot;, &quot;sf2/SGM-V2.01.sf2&quot;],</span>
<span class="sd">            &quot;handler&quot;: fluid_midi_dump_prerouter,</span>
<span class="sd">            &quot;standardmidifile&quot;: [&quot;mid/SenBonZakura.mid&quot;, &quot;mid/111867.MID&quot;]}</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">:</span> <span class="nb">dict</span><span class="p">[</span><span class="nb">str</span><span class="p">,</span> <span class="n">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
        <span class="k">try</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">new_fluid_player</span><span class="p">(</span><span class="n">synth</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_synth</span><span class="p">)))</span>

            <span class="k">if</span> <span class="s2">&quot;handler&quot;</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">:</span>
                <span class="n">callback</span> <span class="o">=</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;handler&quot;</span><span class="p">]</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">callback</span> <span class="o">=</span> <span class="n">fluid_midi_router_handle_midi_event</span>

            <span class="n">fluid_player_set_playback_callback</span><span class="p">(</span>
                <span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">),</span>
                <span class="n">handler</span><span class="o">=</span><span class="n">callback</span><span class="p">,</span>
                <span class="n">handler_data</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_midi_router</span><span class="p">),</span>
            <span class="p">)</span>

            <span class="k">for</span> <span class="n">filename</span> <span class="ow">in</span> <span class="n">kwargs</span><span class="p">[</span><span class="s2">&quot;standardmidifile&quot;</span><span class="p">]:</span>
                <span class="k">if</span> <span class="n">fluid_is_midifile</span><span class="p">(</span><span class="n">filename</span><span class="o">.</span><span class="n">encode</span><span class="p">()):</span>
                    <span class="nb">print</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span>
                    <span class="n">ptr</span><span class="p">:</span> <span class="nb">bytes</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span><span class="o">.</span><span class="n">read_bytes</span><span class="p">()</span>
                    <span class="n">fluid_player_add_mem</span><span class="p">(</span>
                        <span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">),</span>
                        <span class="n">buffer</span><span class="o">=</span><span class="n">ptr</span><span class="p">,</span>
                        <span class="nb">len</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_size_t</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ptr</span><span class="p">)),</span>
                    <span class="p">)</span>

            <span class="bp">self</span><span class="o">.</span><span class="n">_assign_audio_driver</span><span class="p">()</span>
        <span class="k">except</span> <span class="n">FSError</span> <span class="k">as</span> <span class="n">msg</span><span class="p">:</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">_log</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="n">FLUID_LOG_LEVEL</span><span class="o">.</span><span class="n">ERR</span><span class="p">,</span> <span class="n">message</span><span class="o">=</span><span class="sa">f</span><span class="s2">&quot;Midi Player. </span><span class="si">{</span><span class="nb">str</span><span class="p">(</span><span class="n">msg</span><span class="p">)</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
            <span class="bp">self</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

    <span class="k">def</span> <span class="fm">__del__</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_delete_auido_driver</span><span class="p">()</span>
        <span class="n">delete_fluid_player</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">))</span>
        <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__del__</span><span class="p">()</span>

<div class="viewcode-block" id="MidiPlayer.playback"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.MidiPlayer.playback">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">playback</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">start_tick</span><span class="p">:</span> <span class="nb">int</span> <span class="o">=</span> <span class="mi">0</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kc">None</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Start playback.</span>

<span class="sd">        :param start_tick: tick at the position where you want to start</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="n">fluid_player_play</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">))</span>
        <span class="n">sleep</span><span class="p">(</span><span class="mf">0.1</span><span class="p">)</span>  <span class="c1"># Wait for seekable</span>
        <span class="n">fluid_player_seek</span><span class="p">(</span>
            <span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">),</span> <span class="n">ticks</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_int</span><span class="p">(</span><span class="n">start_tick</span><span class="p">)</span>
        <span class="p">)</span>
        <span class="n">fluid_player_join</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">))</span></div>

<div class="viewcode-block" id="MidiPlayer.stop"><a class="viewcode-back" href="../../../../audioworkstation.libs.audio.html#audioworkstation.libs.audio.fluidsynth.MidiPlayer.stop">[ドキュメント]</a>    <span class="k">def</span> <span class="nf">stop</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Stop or end playback.</span>

<span class="sd">        :return: ticks when stopped</span>
<span class="sd">        &quot;&quot;&quot;</span>
        <span class="n">fluid_player_stop</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">))</span>
        <span class="n">fluid_player_join</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">))</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">_all_sounds_off</span><span class="p">()</span>  <span class="c1"># Wait to clear Ringbuffer after EOT.</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">tick</span></div>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">tick</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get the number of tempo ticks passed.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">fluid_player_get_current_tick</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">)))</span>

    <span class="nd">@property</span>
    <span class="k">def</span> <span class="nf">total_ticks</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
<span class="w">        </span><span class="sd">&quot;&quot;&quot;Get total ticks.&quot;&quot;&quot;</span>
        <span class="k">return</span> <span class="nb">int</span><span class="p">(</span><span class="n">fluid_player_get_total_ticks</span><span class="p">(</span><span class="n">player</span><span class="o">=</span><span class="n">CFS</span><span class="o">.</span><span class="n">c_void_p</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_player</span><span class="p">)))</span></div>


<span class="k">if</span> <span class="vm">__name__</span> <span class="o">==</span> <span class="s2">&quot;__main__&quot;</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="vm">__file__</span><span class="p">)</span>
</pre></div>

            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">クイック検索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="検索" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>ナビゲーション</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../../genindex.html" title="総合索引"
             >索引</a></li>
        <li class="right" >
          <a href="../../../../py-modindex.html" title="Pythonモジュール索引"
             >モジュール</a> |</li>
        <li class="nav-item nav-item-0"><a href="../../../../index.html">AudioWorkstation 0.3 ドキュメント</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="../../../index.html" >モジュールコード</a> &#187;</li>
        <li class="nav-item nav-item-this"><a href="">audioworkstation.libs.audio.fluidsynth</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2023, tomosatoP.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 6.1.3.
    </div>
  </body>
</html>